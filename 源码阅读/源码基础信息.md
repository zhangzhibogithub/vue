### 1. 目录
```t
flow--
    ├── compiler.js        # 编译相关
    ├── component.js       # 组件数据结构
    ├── global-api.js      # Global API 结构
    ├── modules.js         # 第三方库定义
    ├── options.js         # 选项相关
    ├── ssr.js             # 服务端渲染相关
    ├── vnode.js           # 虚拟 node 相关
src---
    ├── compiler        # 编译相关 
    ├── core            # 核心代码  
    ├── platforms       # 不同平台的支持
    ├── server          # 服务端渲染
    ├── sfc             # .vue 文件解析
    ├── shared          # 共享代码
```
 core 目录包含了 Vue.js 的核心代码，包括内置组件、全局 API 封装，Vue 实例化、观察者、虚拟 DOM、工具函数等等。

 ### 2.构建命令
 #### 2.1 构建工具
 rollup 构建，一款专注于类库构建的前端构建工具
 #### 2.2 构建命令
 ```json
"build": "node scripts/build.js",
"build:ssr": "npm run build -- web-runtime-cjs,web-server-renderer",
"build:weex": "npm run build -- weex",
 ```
#### 2.3 VUE 构建代码内部流转

```js
npm 脚本 -> 
    scripts\build.js [构建] ->  
        src\platforms\web\entry-runtime-with-compiler.js [打包入口模块] -> 
            src\platforms\web\runtime\index.js [叠加后VUE对象，对VUE对象进行装饰修改] -> 
                src\core\index.js [基础VUE核心]

src\platforms\web\runtime\index.js
    # 我们往后看这里有很多 xxxMixin 的函数调用，并把 Vue 当参数传入，它们的功能都是给 Vue 的 prototype 上扩展一些方法
    # Vue 按功能把这些扩展分散到多个模块中去实现，而不是在一个模块里实现所有，这种方式是用 Class 难以实现的。
    # 这么做的好处是非常方便代码的维护和管理
    import { initMixin } from './init'
    import { stateMixin } from './state'
    import { renderMixin } from './render'
    import { eventsMixin } from './events'
    import { lifecycleMixin } from './lifecycle'
    import { warn } from '../util/index'
    function Vue (options) {
        if (process.env.NODE_ENV !== 'production' &&!(this instanceof Vue)) {
            warn('Vue is a constructor and should be called with the `new` keyword')
        }
        this._init(options)
    }
    initMixin(Vue)
    stateMixin(Vue)
    eventsMixin(Vue)
    lifecycleMixin(Vue)
    renderMixin(Vue)

    export default Vue;

src\core\index.js [基础VUE核心] 
    | -> src\core\instance\index.js    # import Vue from './instance/index' 和 initGlobalAPI(Vue)，初始化全局 Vue API
    | -> src\core\global-api\index.js  # Vue.js 在整个初始化过程中，除了给它的原型 prototype 上扩展方法，还会给 Vue 这个对象本身扩展全局的静态方法
```

